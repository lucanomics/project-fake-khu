<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project F.A.K.E. - ê²½í¬ëŒ€í•™êµ ì„¸ê³„ì™€ì‹œë¯¼ GCP</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Pretendard:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* --- Reset & Base Variables --- */
        :root {
            /* Brand Colors */
            --primary: #4c6ef5;       /* Smart Blue */
            --secondary: #20c997;     /* Mint Green */
            --accent: #fab005;        /* Warning Yellow */
            --danger: #ff6b6b;        /* Alert Red */
            --dark: #212529;          /* Deep Black */
            --light-bg: #f8f9fa;      /* Background */
            --white: #ffffff;
            
            --shadow-sm: 0 4px 6px rgba(0,0,0,0.05);
            --shadow-lg: 0 10px 30px rgba(76, 110, 245, 0.15);
            --radius: 20px;
            
            --font-title: 'Jua', sans-serif;
            --font-body: 'Pretendard', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--light-bg);
            color: var(--dark);
            line-height: 1.6;
            font-family: var(--font-body);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        h1, h2, h3, h4, .logo, .btn, .stat-value, .tagline, .toolkit-title {
            font-family: var(--font-title);
        }

        a { text-decoration: none; color: inherit; transition: 0.3s; }
        ul { list-style: none; }

        /* --- Header --- */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1rem 5%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .logo {
            font-size: 1.8rem;
            color: var(--primary);
            letter-spacing: -0.5px;
        }

        .nav-links a {
            margin-left: 2rem;
            font-weight: 600;
            font-size: 1rem;
            color: var(--dark);
            cursor: pointer;
        }
        .nav-links a:hover { color: var(--primary); }

        /* --- Hero Section --- */
        .hero {
            padding: 160px 20px 100px;
            text-align: center;
            background: linear-gradient(135deg, #fff 0%, #e7f5ff 100%);
        }

        .tagline {
            display: inline-block;
            background: #e7f5ff;
            color: var(--primary);
            padding: 0.5rem 1.2rem;
            border-radius: 50px;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .hero h1 {
            font-size: 3.8rem;
            line-height: 1.3;
            margin-bottom: 1.5rem;
            color: var(--dark);
            word-break: keep-all;
        }

        .hero p {
            font-size: 1.3rem;
            color: #555;
            margin-bottom: 3rem;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 500;
            word-break: keep-all;
        }

        .hero-btns {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        /* --- Buttons --- */
        .btn {
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--white);
            box-shadow: 0 4px 15px rgba(76, 110, 245, 0.3);
        }
        .btn-primary:hover { transform: translateY(-3px); background: #3b5bdb; }

        .btn-outline {
            background: transparent;
            border-color: var(--primary);
            color: var(--primary);
        }
        .btn-outline:hover { background: var(--primary); color: var(--white); }
        
        .btn-white {
            background: var(--white);
            color: var(--primary);
            width: 100%;
            justify-content: center;
            text-decoration: none;
            padding: 1rem;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.2rem;
            display: inline-block;
            transition: 0.3s;
        }
        .btn-white:hover { background: #f1f3f5; transform: scale(1.02); }


        /* --- Stats Section (Bento Grid Dashboard) --- */
        .stats-section {
            padding: 6rem 5%;
            background: #f1f3f5;
        }
        
        .section-header { text-align: center; margin-bottom: 4rem; }
        .section-title { font-size: 2.5rem; margin-bottom: 0.5rem; color: var(--dark); }
        .section-subtitle { font-size: 1.1rem; color: #666; font-weight: 600; background: #e9ecef; padding: 0.5rem 1rem; border-radius: 8px; display: inline-block; }

        .bento-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2 Columns Forced */
            gap: 1.5rem;
            max-width: 1000px;
            margin: 0 auto;
            /* Auto rows for cards, but button row will be auto */
        }

        .bento-card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow-sm);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.03);
            min-height: 350px;
        }
        .bento-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-lg); }

        .stat-label { font-size: 0.9rem; font-weight: 700; color: #adb5bd; text-transform: uppercase; margin-bottom: 1rem; letter-spacing: 1px; display: flex; align-items: center; gap: 8px; }
        .stat-title { font-size: 1.4rem; font-weight: 700; color: var(--dark); margin-bottom: 0.5rem; line-height: 1.3; font-family: var(--font-title); word-break: keep-all; }
        .stat-insight { font-size: 0.95rem; color: #495057; line-height: 1.6; word-break: keep-all; margin-top: auto; }
        
        /* Big Number Style for Card 2 */
        .stat-number-big { font-size: 4rem; font-weight: 800; color: var(--danger); line-height: 1; margin-bottom: 0.5rem; font-family: var(--font-title); letter-spacing: -1px; }
        
        /* Chart Wrapper */
        .chart-wrapper { position: relative; width: 100%; flex-grow: 1; min-height: 180px; display: flex; align-items: center; justify-content: center; }

        /* --- Toolkit Section --- */
        .toolkit-section { padding: 8rem 5%; background: var(--white); text-align: center; }
        .toolkit-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; max-width: 1300px; margin: 3rem auto 0; }
        .toolkit-card { background: var(--white); border: 2px solid #eee; border-radius: var(--radius); padding: 2.5rem 1.5rem; transition: 0.3s; display: flex; flex-direction: column; justify-content: space-between; }
        .toolkit-card:hover { border-color: var(--primary); box-shadow: var(--shadow-lg); transform: translateY(-5px); }
        
        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 110, 245, 0.4); transform: scale(1); }
            50% { box-shadow: 0 0 0 20px rgba(76, 110, 245, 0); transform: scale(1.05); border-color: var(--primary); }
            100% { box-shadow: 0 0 0 0 rgba(76, 110, 245, 0); transform: scale(1); }
        }
        .toolkit-card.highlight { animation: highlightPulse 1.5s ease-out; border-color: var(--primary) !important; border-width: 3px; z-index: 10; }

        .toolkit-icon { font-size: 3rem; margin-bottom: 1rem; color: var(--primary); }
        .toolkit-title { font-size: 1.3rem; margin-bottom: 0.5rem; word-break: keep-all; }
        .toolkit-desc { color: #666; margin-bottom: 1.5rem; font-size: 0.95rem; line-height: 1.5; word-break: keep-all; }
        .toolkit-list { text-align: left; background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; font-size: 0.9rem; color: #555; list-style: none; }
        .toolkit-list li { margin-bottom: 5px; padding-left: 1.2em; position: relative; }
        .toolkit-list li::before { content: 'â€¢'; position: absolute; left: 0; color: var(--primary); }

        .btn-download { background: var(--white); color: var(--primary); border: 2px solid var(--primary); padding: 0.8rem 1rem; border-radius: 30px; font-size: 1rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; width: 100%; display: flex; justify-content: center; align-items: center; gap: 5px; }
        .btn-download:hover { background: var(--primary); color: var(--white); }

        /* Pledge */
        .pledge-section { padding: 8rem 5%; background: var(--primary); color: var(--white); text-align: center; }
        .pledge-box { max-width: 700px; margin: 0 auto; background: rgba(255,255,255,0.1); padding: 4rem; border-radius: var(--radius); backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.2); }

        /* Footer */
        footer { padding: 4rem 5%; background: #212529; color: #868e96; text-align: center; font-size: 0.9rem; }

        /* Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 2000; backdrop-filter: blur(5px); opacity: 0; transition: opacity 0.3s; }
        .modal.show { opacity: 1; }
        .modal-content { background: var(--white); width: 90%; max-width: 800px; margin: 5vh auto; border-radius: var(--radius); position: relative; transform: translateY(20px); transition: transform 0.3s; max-height: 90vh; overflow-y: auto; padding: 0; }
        .modal.show .modal-content { transform: translateY(0); }
        .modal-header { padding: 1.5rem 2.5rem; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: #fff; z-index: 10; border-radius: var(--radius) var(--radius) 0 0; }
        .modal-body { padding: 2.5rem; }
        .close-btn { font-size: 2rem; cursor: pointer; color: #adb5bd; line-height: 1; transition: 0.2s; }
        .close-btn:hover { color: var(--dark); }

        /* --- Interactive Chart Modal --- */
        .chart-select {
            width: 100%; padding: 1rem; margin-bottom: 2rem; border: 2px solid #e9ecef; border-radius: 12px;
            font-size: 1.1rem; font-family: var(--font-body); color: var(--dark); cursor: pointer; appearance: none;
            background: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e") no-repeat right 1rem center/1.2rem;
        }
        .chart-select:focus { outline: none; border-color: var(--primary); }
        .chart-container { position: relative; height: 350px; width: 100%; }
        
        .report-desc-box {
            background: #e7f5ff; padding: 1.5rem; border-radius: 12px; margin-top: 2rem; border-left: 5px solid var(--primary);
        }
        .report-insight-title { color: var(--primary); font-weight: 700; font-size: 1.1rem; margin-bottom: 0.5rem; display: block; }
        .report-desc { font-size: 1.05rem; color: #495057; line-height: 1.6; margin: 0; }

        /* --- Test Modal Specific --- */
        .test-progress-bar { width: 100%; height: 8px; background: #e9ecef; border-radius: 4px; margin-bottom: 2rem; overflow: hidden; }
        .test-progress-fill { height: 100%; background: var(--primary); width: 20%; transition: width 0.3s; border-radius: 4px; }

        .question-card { display: none; text-align: left; animation: fadeIn 0.5s; }
        .question-card.active { display: block; }
        .q-title { font-size: 1.5rem; margin-bottom: 1.5rem; color: var(--dark); font-weight: 700; line-height: 1.4; }
        .q-option {
            display: block; padding: 1.2rem; border: 2px solid #f1f3f5; border-radius: 12px;
            margin-bottom: 1rem; cursor: pointer; transition: 0.2s; font-size: 1.1rem; color: #495057;
        }
        .q-option:hover { border-color: var(--primary); background: #edf2ff; color: var(--primary); transform: translateY(-2px); }
        .q-option input { display: none; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .result-view { display: none; text-align: center; animation: fadeIn 0.5s; }
        .result-icon { font-size: 5rem; margin-bottom: 1rem; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }
        .result-title { font-size: 2.2rem; color: var(--primary); margin-bottom: 0.5rem; font-family: var(--font-title); }
        .result-desc { font-size: 1.1rem; color: #555; margin-bottom: 1.5rem; word-break: keep-all; line-height: 1.6; }
        
        .recommend-box {
            background: #f8f9fa; padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem;
            border-left: 5px solid var(--secondary); text-align: left;
        }
        .recommend-label { font-size: 0.85rem; color: #868e96; font-weight: 700; margin-bottom: 0.5rem; display: block; text-transform: uppercase; letter-spacing: 1px; }
        .recommend-toolkit { font-size: 1.3rem; font-weight: 700; color: var(--dark); font-family: var(--font-title); }

        /* Responsive */
        @media (max-width: 1024px) {
            .bento-grid { grid-template-columns: repeat(2, 1fr); }
            .col-span-1, .col-span-2 { grid-column: span 1; }
            .toolkit-grid { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.8rem; }
            .hero-btns { flex-direction: column; }
            .bento-grid, .toolkit-grid { grid-template-columns: 1fr; }
            .col-span-2 { grid-column: span 1; }
            .btn { width: 100%; justify-content: center; }
            .chart-wrapper { height: 250px; }
            .stat-number-big { font-size: 3.5rem; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="logo">F.A.K.E.</div>
        <nav class="nav-links">
            <a onclick="openTestModal(event)">ì§„ë‹¨í•˜ê¸°</a>
            <a href="#toolkit">íˆ´í‚·</a>
            <a href="#pledge">ì—°ëŒ€í•˜ê¸°</a>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <span class="tagline">Falsity Auditors & Knowledge Emancipators</span>
        <h1>ê²€ì¦ëœ ì •ë³´ì™€ ì•ˆì „í•œ ê¸°ìˆ ,<br>ìš°ë¦¬ê°€ í•¨ê»˜ ì—¬ëŠ” ì˜¬ë°”ë¥¸ AI ì‹œëŒ€.</h1>
        <p>ì•ˆì „í•œ ë””ì§€í„¸ ìº í¼ìŠ¤ë¥¼ ìœ„í•œ ëŒ€í•™ìƒ AI ë¦¬í„°ëŸ¬ì‹œ í”„ë¡œì íŠ¸ F.A.K.E., ì§€ê¸ˆ ì‹œì‘í•©ë‹ˆë‹¤.</p>
        <div class="hero-btns">
            <!-- Button triggers Test Modal -->
            <button onclick="openTestModal()" class="btn btn-primary"><i class="fas fa-check-circle"></i> ë‚´ AI ì‚¬ìš© ìœ í˜• ì§„ë‹¨í•´ ë³´ê¸°</button>
        </div>
    </section>

    <!-- Stats Section (Dashboard) -->
    <section class="stats-section">
        <div class="section-header">
            <h2 class="section-title">ë°ì´í„°ë¡œ ë³¸ í˜„ì‹¤</h2>
            <p class="section-subtitle">2025ë…„ 11ì›”, ëŒ€í•™ìƒ 118ëª…ì˜ ëª©ì†Œë¦¬ë¥¼ ì¡°ì‚¬í•˜ì˜€ìŠµë‹ˆë‹¤. (ì¡°ì‚¬ê¸°ê°„: 11.01~11.14)</p>
        </div>
        
        <div class="bento-grid">
            <!-- Card 1: Risk Exposure (Doughnut) -->
            <div class="bento-card col-span-1">
                <span class="stat-label"><i class="fas fa-exclamation-circle"></i> ìœ„í—˜ ë…¸ì¶œë„</span>
                <div class="chart-wrapper">
                    <canvas id="riskChart"></canvas>
                </div>
                <div class="stat-title" style="margin-top: 1rem; text-align: center;">ì£¼ 1íšŒ ì´ìƒ ëª©ê²©<br><span style="color:var(--danger); font-size: 1.8rem;">66.9%</span></div>
                <p class="stat-insight" style="text-align: center;">3ëª… ì¤‘ 2ëª…ì€ ë§¤ì£¼ í—ˆìœ„ì •ë³´ë¥¼ ëª©ê²©í•´ìš”. í—ˆìœ„ì •ë³´ë¡œ ì¸í•œ í”¼í•´ëŠ” ë” ì´ìƒ ë‚¨ì˜ ì¼ì´ ì•„ë‹ˆì˜ˆìš”.</p>
            </div>

            <!-- Card 2: Institutional Void (Big Number) -->
            <div class="bento-card col-span-1" style="justify-content: center; align-items: center; text-align: center;">
                <span class="stat-label" style="align-self: flex-start;"><i class="fas fa-shield-alt"></i> ì•ˆì „ë§ ì¸ì‹</span>
                <div style="margin: auto 0;">
                    <i class="fas fa-eye-slash" style="font-size: 5rem; color: #ffe3e3; margin-bottom: 1rem;"></i>
                    <div class="stat-number-big" style="color: var(--danger);">66.1%</div>
                    <h3 class="stat-title">"ì‹ ê³ ì²˜ë¥¼<br>ì „í˜€ ëª°ë¼ìš”"</h3>
                </div>
                <p class="stat-insight">ì‹œìŠ¤í…œì€ ìˆì§€ë§Œ, ìš°ë¦¬ì˜ ì¼ìƒê³¼ëŠ” ì—°ê²°ë˜ì§€ ëª»í•˜ê³  ìˆì–´ìš”. ìš°ë¦¬ ëª¨ë‘ 'ì‚¬ê°ì§€ëŒ€'ì— ë†“ì—¬ìˆë‹¤ê³  í•  ìˆ˜ ìˆì£ .</p>
            </div>

            <!-- Card 3: Witness Experience (Horizontal Bar) -->
            <div class="bento-card col-span-1">
                <span class="stat-label"><i class="fas fa-eye"></i> ì§ì ‘ ëª©ê²© ê²½í—˜</span>
                <div class="chart-wrapper">
                    <canvas id="witnessChart"></canvas>
                </div>
                <p class="stat-insight" style="margin-top: 1rem;">ê°€ì§œë‰´ìŠ¤ë‚˜ ë”¥í˜ì´í¬ ë“± ë¹„ìœ¤ë¦¬ì  í–‰ìœ„ë¥¼ ì§ì ‘ ëª©ê²©í•œ ê²½í—˜ë„ 35.6%ë‚˜ ë¼ìš”. ìƒê°ë³´ë‹¤ ìš°ë¦¬ ê°€ê¹Œì´ì— ìˆë‹µë‹ˆë‹¤.</p>
            </div>

            <!-- Card 4: Universal Risk (Light User Witness Rate) -->
            <div class="bento-card col-span-1">
                <span class="stat-label"><i class="fas fa-user-shield"></i> ë¼ì´íŠ¸ ìœ ì € ìœ„í—˜ë„</span>
                <div class="chart-wrapper">
                    anvas id="universalRiskChart"></canvas>
                </div>
                <p class="stat-insight" style="margin-top: 1rem; color: var(--danger); font-weight: 600;">âš ï¸ ì•ˆì „ì§€ëŒ€ëŠ” ì—†ë‹¤<br><span style="font-weight: 400; font-size: 0.95rem; color: #495057;">í•˜ë£¨ 2ì‹œê°„ë„ ì•ˆ ì“°ëŠ” 'ë¼ì´íŠ¸ ìœ ì €'ì¡°ì°¨ 38%ê°€ ìœ í•´ ì½˜í…ì¸ ë¥¼ ëª©ê²©í–ˆì–´ìš”. ì ê¹ ì“´ë‹¤ê³  í•´ì„œ ê²°ì½” ì•ˆì „í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span></p>
            </div>

            <!-- Action Card: Full Report Button (Final Fix - Slim & Centered) -->
            <div style="grid-column: 1 / -1; display: flex; justify-content: center; margin-top: 2rem;">
                <button id="openReportBtn" class="btn btn-primary" style="box-shadow: 0 4px 15px rgba(76, 110, 245, 0.3);">
                    <i class="fas fa-chart-pie"></i> ğŸ“Š ì„¤ë¬¸ ê²°ê³¼ ì „ì²´ ìƒì„¸ ë³´ê¸°
                </button>
            </div>
        </div>
    </section>

    <!-- Toolkit Section -->
    <section id="toolkit" class="toolkit-section">
        <h2 class="section-title">F.A.K.E. íˆ´í‚· ì°½ê³ </h2>
        <p class="section-subtitle" style="margin-bottom: 3rem; color: #666; font-size: 1.1rem;">ë ˆë²¨ì— ë§ëŠ” ì¥ë¹„ë¥¼ ì±™ê²¨ì„œ ë””ì§€í„¸ ì„¸ìƒì„ ì•ˆì „í•˜ê²Œ í•­í•´í•´ ë³´ì„¸ìš”!</p>
        
        <div class="toolkit-grid">
            <div class="toolkit-card" id="toolkit-1" style="border-color: #ff6b6b;">
                <div class="toolkit-icon" style="color: #ff6b6b;">ğŸ’</div>
                <h3 class="toolkit-title">Lv.1 ì„œë°”ì´ë²Œ íˆ´í‚·</h3>
                <p class="toolkit-desc">ìœ„í—˜í•œ AI ì •ê¸€ì—ì„œ ì‚´ì•„ë‚¨ê¸° ìœ„í•œ í•„ìˆ˜ ìƒì¡´ í‚¤íŠ¸ì˜ˆìš”.</p>
                <ul class="toolkit-list">
                    <li>ê¸°ì´ˆ ìš©ì–´ì§‘ PDF</li>
                    <li>ì‘ê¸‰ ì‹ ê³ ì²˜ ëª©ë¡</li>
                </ul>
                <a href="https://docs.google.com/document/d/1pkKRHfcO6w9bk1Rl5u-SeKMVp9czQWCRlFWCxAS8Ivk/edit?usp=sharing" target="_blank" class="btn-download" style="border-color:#ff6b6b; color:#ff6b6b; text-decoration:none;">
                    <i class="fas fa-download"></i> ë‹¤ìš´ë¡œë“œ
                </a>
            </div>
            <div class="toolkit-card" id="toolkit-2" style="border-color: #fab005;">
                <div class="toolkit-icon" style="color: #fab005;">ğŸ›¡ï¸</div>
                <h3 class="toolkit-title">Lv.2 ë³´ì•ˆê´€ ê¿ˆë‚˜ë¬´ íˆ´í‚·</h3>
                <p class="toolkit-desc">ë‚˜ì™€ ì§€ì¸ì˜ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•˜ëŠ” ë°©ì–´êµ¬ ì„¸íŠ¸ì˜ˆìš”.</p>
                <ul class="toolkit-list">
                    <li>SNS ë¹„ê³µê°œ ì„¤ì • ê°€ì´ë“œ</li>
                    <li>ì›Œí„°ë§ˆí¬ ìƒì„±ê¸° ë§í¬</li>
                </ul>
                <a href="https://docs.google.com/document/d/1ieaA36l3-y8e1Lp_W1kl6h93Ct9aCVo3MJLX3pYrXxY/edit?usp=sharing" target="_blank" class="btn-download" style="border-color:#fab005; color:#fab005; text-decoration:none;">
                    <i class="fas fa-download"></i> ë‹¤ìš´ë¡œë“œ
                </a>
            </div>
            <div class="toolkit-card" id="toolkit-3" style="border-color: #20c997;">
                <div class="toolkit-icon" style="color: #20c997;">ğŸ”</div>
                <h3 class="toolkit-title">Lv.3 ë³´ì•ˆê´€ ì‹¬í™” íˆ´í‚·</h3>
                <p class="toolkit-desc">ê±°ì§“ ì •ë³´ë¥¼ ê¿°ëš«ì–´ë³´ê³  ê²€ì¦í•˜ëŠ” ì „ë¬¸ê°€ ì¥ë¹„ì˜ˆìš”.</p>
                <ul class="toolkit-list">
                    <li>ë”¥í˜ì´í¬ íƒì§€ AI ëª¨ìŒ</li>
                    <li>íŒ©íŠ¸ì²´í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸</li>
                </ul>
                <a href="https://docs.google.com/document/d/1zFOpyoSdUK5l6zFB56-K_LZ1qWgcAlhNCvvjLC13oLs/edit?usp=sharing" target="_blank" class="btn-download" style="border-color:#20c997; color:#20c997; text-decoration:none;">
                    <i class="fas fa-download"></i> ë‹¤ìš´ë¡œë“œ
                </a>
            </div>
            <div class="toolkit-card" id="toolkit-4" style="border-color: #4c6ef5;">
                <div class="toolkit-icon" style="color: #4c6ef5;">ğŸ‘‘</div>
                <h3 class="toolkit-title">Lv.4 ìº í¼ìŠ¤ ì•°ë²„ì„œë” íˆ´í‚·</h3>
                <p class="toolkit-desc">ìº í¼ìŠ¤ì˜ ë¬¸í™”ë¥¼ ë°”ê¾¸ëŠ” ë¦¬ë”ë¥¼ ìœ„í•œ í™œë™ íŒ¨í‚¤ì§€ì˜ˆìš”.</p>
                <ul class="toolkit-list">
                    <li>ì¹œêµ¬ë“¤ì„ ìœ„í•œ 10ë¶„ êµìœ¡ PPT</li>
                    <li>ê³µì‹ ì•°ë°°ì„œë” ì¸ì¦ ë°°ì§€</li>
                </ul>
                <a href="https://docs.google.com/document/d/1qODK23YI3IvpNwDcmNMzEOjIWakZGPlJcnH5N7IVCMU/edit?usp=sharing" target="_blank" class="btn-download" style="border-color:#4c6ef5; color:#4c6ef5; text-decoration:none;">
                    <i class="fas fa-download"></i> ë‹¤ìš´ë¡œë“œ
                </a>
            </div>
        </div>
    </section>

    <!-- Pledge Section -->
    <section id="pledge" class="pledge-section">
        <div class="pledge-box">
            <h2 style="font-size: 2.8rem; margin-bottom: 1.5rem;">í•¨ê»˜ ì—°ëŒ€í•´ ì£¼ì„¸ìš”</h2>
            <p style="font-size: 1.3rem; margin-bottom: 2.5rem; opacity: 0.9;">"ë‚˜ëŠ” í™•ì¸ë˜ì§€ ì•Šì€ ì •ë³´ë¥¼ ê³µìœ í•˜ì§€ ì•Šê³ ,<br>ë””ì§€í„¸ ë²”ì£„ í”¼í•´ìì™€ ì—°ëŒ€í•˜ëŠ” 'ìŠ¤ë§ˆíŠ¸ ì•¡í„°'ê°€ ë˜ê² ìŠµë‹ˆë‹¤."</p>
            <a href="https://forms.gle/17dRfyub7eZMfXa58" target="_blank" class="btn btn-white">âœ‹ ì„œëª…í•˜ê³  ë™ì°¸í•˜ê¸°</a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Team W.I.S.E. Kyung Hee Univ. Global Citizen Project (GCP).</p>
        <p>Contact: <a href="mailto:seonjae.kic@khu.ac.kr" style="text-decoration: underline;">seonjae.kic@khu.ac.kr</a></p>
    </footer>

    <!-- Interactive Report Modal -->
    <div id="reportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 style="font-size: 1.5rem; color: var(--dark);">ë°ì´í„° ìƒì„¸ ë¶„ì„ ë¦¬í¬íŠ¸</h2>
                <span class="close-btn" id="closeReportBtn">&times;</span>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 1.5rem; color: #666; text-align: center;">ê¶ê¸ˆí•œ ì£¼ì œë¥¼ ì„ íƒí•´ ë³´ì„¸ìš”.</p>
                
                <!-- Dropdown (Expanded to 6 Options) -->
                <select id="chartSelector" class="chart-select">
                    <option value="purpose">ğŸ¤– AI ì‚¬ìš© ëª©ì </option>
                    <option value="unethical">ğŸš« ìœ¤ë¦¬ì  ìœ„ë°˜ ì¸ì‹</option>
                    <option value="responsibility">âš–ï¸ ì±…ì„ ì†Œì¬ ì¸ì‹</option>
                    <option value="deepfake">ğŸ‘® ë”¥í˜ì´í¬ ì²˜ë²Œ ë™ì˜</option>
                    <option value="frequency">ğŸ‘€ í—ˆìœ„ì •ë³´ ëª©ê²© ë¹ˆë„</option>
                    <option value="reporting">ğŸ“¢ ì‹ ê³  ì±„ë„ ì¸ì§€ë„</option>
                </select>

                <!-- Dynamic Chart Area -->
                <div class="chart-container">
                    <canvas id="dynamicChart"></canvas>
                </div>
                
                <div class="report-desc-box">
                    <span class="report-insight-title">ğŸ’¡ ë¶„ì„ ì¸ì‚¬ì´íŠ¸:</span>
                    <p id="chartDesc" class="report-desc">
                        <!-- Description will be updated by JS -->
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Test Modal -->
    <div id="testModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 style="font-size: 1.5rem;">ë‚´ AI ìœ¤ë¦¬ ì ìˆ˜ ì§„ë‹¨ (Self-Check)</h2>
                <span class="close-btn" id="closeTestBtn">&times;</span>
            </div>
            <div class="modal-body">
                <div class="test-progress-bar"><div class="test-progress-fill" id="testProgressFill"></div></div>

                <div id="quizContainer">
                    <!-- Q1 -->
                    <div class="question-card active" data-step="1">
                        <h2 class="q-title">Q1. ê³¼ì œí•  ë•Œ ChatGPTì˜ ë‹µë³€ì„ ì–´ë–»ê²Œ í™œìš©í•˜ì‹œë‚˜ìš”?</h2>
                        <label class="q-option"><input type="radio" name="q1" value="20" onclick="nextStep(20)"> ğŸ” ë¬´ì¡°ê±´ êµ¬ê¸€ì´ë‚˜ ë…¼ë¬¸ìœ¼ë¡œ ë”ë¸”ì²´í¬í•´ìš”.</label>
                        <label class="q-option"><input type="radio" name="q1" value="10" onclick="nextStep(10)"> ğŸ¤” ê·¸ëŸ´ë“¯í•˜ë©´ ì¼ë‹¨ ì“°ê³  ë´ìš”.</label>
                        <label class="q-option"><input type="radio" name="q1" value="0" onclick="nextStep(0)"> âš¡ ë³µì‚¬+ë¶™ì—¬ë„£ê¸° 1ì´ˆ ì»·!</label>
                    </div>
                    <!-- Q2 -->
                    <div class="question-card" data-step="2">
                        <h2 class="q-title">Q2. ì¹œêµ¬ì˜ ë”¥í˜ì´í¬ ì‚¬ì§„ì´ ë‹¨í†¡ë°©ì— ì˜¬ë¼ì™”ë‹¤ë©´?</h2>
                        <label class="q-option"><input type="radio" name="q2" value="20" onclick="nextStep(20)"> ğŸš¨ ì¦‰ì‹œ ì‹ ê³ í•˜ê³  ì¹œêµ¬ë“¤ì—ê²Œ ê³µìœ  ì¤‘ë‹¨ì„ ìš”ì²­í•´ìš”.</label>
                        <label class="q-option"><input type="radio" name="q2" value="10" onclick="nextStep(10)"> ğŸ¤ ì°œì°œí•˜ì§€ë§Œ ì¡°ìš©íˆ ë°©ì„ ë‚˜ê°€ìš”.</label>
                        <label class="q-option"><input type="radio" name="q2" value="0" onclick="nextStep(0)"> ğŸ¤£ "ì´ê±° ì§„ì§œ ê°™ë‹¤"ë©° ë‹¤ë¥¸ ë°©ì— ê³µìœ í•´ìš”.</label>
                    </div>
                    <!-- Q3 -->
                    <div class="question-card" data-step="3">
                        <h2 class="q-title">Q3. í•™êµ ë‚´ ê³µì‹ì ì¸ AI ì•…ìš© ì‹ ê³ ì²˜ë¥¼ ì•Œê³  ê³„ì‹ ê°€ìš”?</h2>
                        <label class="q-option"><input type="radio" name="q3" value="20" onclick="nextStep(20)"> ğŸ“ ì •í™•í•œ ë¶€ì„œëª…ê³¼ ì—°ë½ì²˜ë¥¼ ì•Œê³  ìˆì–´ìš”.</label>
                        <label class="q-option"><input type="radio" name="q3" value="10" onclick="nextStep(10)"> ğŸ« ì¸ê¶Œì„¼í„°...? ì–´ë”” ìˆëŠ” ê²ƒ ê°™ê¸°ëŠ” í•œë°...?</label>
                        <label class="q-option"><input type="radio" name="q3" value="0" onclick="nextStep(0)"> ğŸ¤·â€â™‚ï¸ ê·¸ëŸ° ê²Œ ìˆì—ˆë‚˜ìš”?</label>
                    </div>
                    <!-- Q4 -->
                    <div class="question-card" data-step="4">
                        <h2 class="q-title">Q4. AI ìƒì„±ë¬¼ì„ SNSì— ì˜¬ë¦´ ë•Œ í‘œê¸°ë¥¼ í•˜ì‹œë‚˜ìš”?</h2>
                        <label class="q-option"><input type="radio" name="q4" value="20" onclick="nextStep(20)"> ğŸ·ï¸ #AIìƒì„± íƒœê·¸ë¥¼ ë°˜ë“œì‹œ ë‹¬ì•„ìš”.</label>
                        <label class="q-option"><input type="radio" name="q4" value="10" onclick="nextStep(10)"> ğŸ¨ ë‚´ê°€ ê·¸ë¦° ì²™í•˜ê³  ì‹¶ì„ ë• ì•ˆ í•´ìš”.</label>
                        <label class="q-option"><input type="radio" name="q4" value="0" onclick="nextStep(0)"> âŒ ì „í˜€ ì‹ ê²½ ì“°ì§€ ì•Šì•„ìš”.</label>
                    </div>
                    <!-- Q5 -->
                    <div class="question-card" data-step="5">
                        <h2 class="q-title">Q5. AIê°€ ë§Œë“  ì´ë¯¸ì§€ëŠ” ì €ì‘ê¶Œë²•ìƒ ë³´í˜¸ë°›ì§€ ëª»í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê³  ê³„ì…¨ë‚˜ìš”?</h2>
                        <label class="q-option"><input type="radio" name="q5" value="20" onclick="nextStep(20)"> ğŸ™†â€â™‚ï¸ ë„¤, ì•Œê³  ìˆì—ˆì–´ìš”.</label>
                        <label class="q-option"><input type="radio" name="q5" value="0" onclick="nextStep(0)"> ğŸ™…â€â™‚ï¸ ì•„ë‹ˆì˜¤, ëª°ëì–´ìš”.</label>
                    </div>
                </div>

                <!-- Result View -->
                <div id="resultView" class="result-view">
                    <div class="result-icon" id="resIcon"></div>
                    <h2 class="result-title" id="resTitle"></h2>
                    <p class="result-desc" id="resDesc"></p>
                    <div class="recommend-box">
                        <span class="recommend-label">RECOMMENDED SOLUTION</span>
                        <div class="recommend-toolkit" id="resToolkit"></div>
                    </div>
                    <button class="btn" onclick="closeTestAndScroll()"><i class="fas fa-gift"></i> ë§ì¶¤í˜• ì†”ë£¨ì…˜ ë°›ê¸°</button>
                    <button class="btn-outline" style="margin-top: 10px; width:100%" onclick="resetTest()">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œ í•˜ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- Modal Logic ---
        const reportModal = document.getElementById('reportModal');
        const testModal = document.getElementById('testModal');
        const openReportBtn = document.getElementById('openReportBtn');
        const closeReportBtn = document.getElementById('closeReportBtn');
        const closeTestBtn = document.getElementById('closeTestBtn');

        function openModal(m) { m.style.display = 'block'; setTimeout(() => m.classList.add('show'), 10); document.body.style.overflow = 'hidden'; }
        function closeModal(m) { m.classList.remove('show'); setTimeout(() => m.style.display = 'none', 300); document.body.style.overflow = 'auto'; }

        openReportBtn.onclick = () => { openModal(reportModal); updateChart(); };
        closeReportBtn.onclick = () => closeModal(reportModal);
        
        function openTestModal(e) { if(e) e.preventDefault(); openModal(testModal); resetTest(); }
        closeTestBtn.onclick = () => closeModal(testModal);

        window.onclick = (e) => { if(e.target == reportModal) closeModal(reportModal); if(e.target == testModal) closeModal(testModal); }

        // --- Chart.js: Dashboard Logic (Load Charts on Page Load) ---
        window.onload = function() {
            // 1. Risk Chart (Doughnut)
            new Chart(document.getElementById('riskChart'), {
                type: 'doughnut',
                data: {
                    labels: ['ì£¼ 1íšŒ ì´ìƒ ëª©ê²©', 'ê¸°íƒ€'],
                    datasets: [{ data: [66.9, 33.1], backgroundColor: ['#ff6b6b', '#e9ecef'], borderWidth: 0 }]
                },
                options: { cutout: '70%', plugins: { legend: { display: false }, tooltip: { enabled: false } } }
            });

            // 3. Witness Chart (Horizontal Bar)
            new Chart(document.getElementById('witnessChart'), {
                type: 'bar',
                data: {
                    labels: ['ì§ì ‘ ëª©ê²© ê²½í—˜', 'ì—†ìŒ'],
                    datasets: [{ data: [35.6, 64.4], backgroundColor: ['#fab005', '#e9ecef'], borderRadius: 6 }]
                },
                options: {
                    indexAxis: 'y',
                    plugins: { legend: { display: false } },
                    scales: { x: { display: false, max: 100 }, y: { grid: { display: false } } }
                }
            });

                        // 4. Universal Risk Chart (Bar - Replaced)
            new Chart(document.getElementById('universalRiskChart'), {
                type: 'bar',
                data: {
                    labels: ['ë¼ì´íŠ¸ ìœ ì € ëª©ê²© (38%)', 'ë¯¸ëª©ê²©'],
                    datasets: [{ 
                        data: [38.2, 61.8], 
                        backgroundColor: ['#ff6b6b', '#e9ecef'], 
                        borderRadius: 6 
                    }]
                },
                options: { 
                    indexAxis: 'y', 
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { x: { display: false, max: 100 }, y: { grid: { display: false } } }
                }
            });


        // --- Interactive Chart Logic (Report Modal - Expanded to 6 items) ---
        let dynamicChart = null;
        const chartData = {
            'purpose': {
                type: 'bar',
                labels: ['ìë£Œ ê²€ìƒ‰', 'í…ìŠ¤íŠ¸ ìƒì„±/ìš”ì•½', 'ì•„ì´ë””ì–´ ìƒì„±', 'ë²ˆì—­', 'ì½”ë”©'],
                data: [11.8, 11.4, 10.2, 6.1, 1.8],
                label: 'ì‘ë‹µ ë¹„ìœ¨ (%)',
                color: '#4c6ef5',
                indexAxis: 'y',
                desc: "ğŸ’¡ ë¶„ì„ ì¸ì‚¬ì´íŠ¸:<br>í•™ìƒë“¤ì€ AIë¥¼ ì£¼ë¡œ 'ìë£Œ ê²€ìƒ‰'ê³¼ 'ê³¼ì œ ì‘ì„±'ì˜ ë³´ì¡° ë„êµ¬ë¡œ ì“°ê³  ìˆì–´ìš”. ë‹¨ìˆœ í¥ë¯¸ë³´ë‹¤ëŠ” í•™ì—… íš¨ìœ¨ì„±ì„ ë†’ì´ê¸° ìœ„í•œ ì‹¤ìš©ì  ëª©ì ìœ¼ë¡œ ìë¦¬ ì¡ì•˜ë„¤ìš”."
            },
            'unethical': {
                type: 'bar',
                labels: ['ë”¥í˜ì´í¬ ì¥ë‚œ ì†Œë¹„', 'í—ˆìœ„ì‚¬ì‹¤ ìœ í¬', 'í‘œì ˆ', 'ë”¥í˜ì´í¬ ì œì‘', 'ê³¼ì œ í†µìƒì„±'],
                data: [20.0, 16.3, 14.3, 13.7, 7.8],
                label: 'ë¹„ìœ¤ë¦¬ì  í–‰ìœ„ ì¸ì‹ (%)',
                color: '#ff6b6b',
                indexAxis: 'y',
                desc: "ğŸ’¡ ë¶„ì„ ì¸ì‚¬ì´íŠ¸:<br>'ë”¥í˜ì´í¬ë¥¼ ì¥ë‚œìœ¼ë¡œ ì†Œë¹„í•˜ëŠ” í–‰ìœ„'ë¥¼ ê°€ì¥ ì‹¬ê°í•œ ë¬¸ì œë¡œ ê¼½ì•˜ì–´ìš”. ì§ì ‘ ë§Œë“œëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼, ë³´ê³  ì¦ê¸°ëŠ” ê²ƒë„ ê³µë²”ì´ë¼ëŠ” ì¸ì‹ì´ í™•ì‚°ë˜ê³  ìˆìŠµë‹ˆë‹¤."
            },
            'responsibility': {
                type: 'doughnut',
                labels: ['ìµœì´ˆ ìƒì„±ì', 'ë¬´ë¹„íŒì  ê³µìœ ì', 'í”Œë«í¼/ê°œë°œì‚¬', 'ëŒ€í•™ë³¸ë¶€'],
                data: [46.1, 29.1, 7.8, 3.0],
                label: 'ì±…ì„ ì¸ì‹ (%)',
                color: ['#ff6b6b', '#fab005', '#20c997', '#adb5bd'],
                indexAxis: 'x',
                desc: "ğŸ’¡ ë¶„ì„ ì¸ì‚¬ì´íŠ¸:<br>ì••ë„ì ìœ¼ë¡œ 'ìµœì´ˆ ìƒì„±ì'ì—ê²Œ ì±…ì„ì„ ë¬»ê³  ìˆì§€ë§Œ, 'ë¬´ë¹„íŒì ìœ¼ë¡œ ê³µìœ í•œ ì´ìš©ì'ì˜ ì±…ì„ë„ 30% ê°€ê¹Œì´ ë©ë‹ˆë‹¤. ë‚˜ë¥´ê¸°ë§Œ í•´ë„ ì±…ì„ì´ ìˆë‹¤ëŠ” ì‚¬ì‹¤, ìŠì§€ ë§ˆì„¸ìš”!"
            },
            'deepfake': {
                type: 'pie',
                labels: ['ì²˜ë²Œ ì°¬ì„±', 'ë³´í†µ/ì¤‘ë¦½', 'ë°˜ëŒ€'],
                data: [83.0, 11.9, 5.1],
                label: 'ë¹„ìœ¨ (%)',
                color: ['#4c6ef5', '#e9ecef', '#ff6b6b'],
                indexAxis: 'x',
                desc: "ğŸ’¡ ë¶„ì„ ì¸ì‚¬ì´íŠ¸:<br>10ëª… ì¤‘ 8ëª… ì´ìƒì´ 'ì¥ë‚œì´ë¼ë„ ì²˜ë²Œí•´ì•¼ í•œë‹¤'ê³  ë‹µí–ˆì–´ìš”. ìš°ë¦¬ ëŒ€í•™ìƒë“¤ì˜ ìœ¤ë¦¬ì  ëˆˆë†’ì´ëŠ” ì´ë¯¸ ë²•ë³´ë‹¤ ì—„ê²©í•©ë‹ˆë‹¤."
            },
            'frequency': {
                type: 'bar',
                labels: ['ì£¼ 3íšŒ ì´ìƒ', 'ì£¼ 1-2íšŒ', 'ê±°ì˜ ë§¤ì¼', 'ì˜ ëª¨ë¦„'],
                data: [28.0, 21.2, 17.8, 14.4],
                label: 'ëª©ê²© ë¹ˆë„ (%)',
                color: '#fab005',
                indexAxis: 'x', // Vertical
                desc: "ğŸ’¡ ë¶„ì„ ì¸ì‚¬ì´íŠ¸:<br>ì ˆë°˜ ê°€ê¹Œìš´ í•™ìƒë“¤ì´ 'ì¼ì£¼ì¼ì— í•œ ë²ˆ ì´ìƒ' í—ˆìœ„ì •ë³´ë¥¼ ë§ˆì£¼ì¹˜ê³  ìˆì–´ìš”. íŠ¹íˆ 'ê±°ì˜ ë§¤ì¼' ë³¸ë‹¤ëŠ” ì‘ë‹µë„ 17.8%ë‚˜ ë˜ì–´, ë””ì§€í„¸ ê³µí•´ê°€ ì‹¬ê°í•œ ìˆ˜ì¤€ì´ì—ìš”."
            },
            'reporting': {
                type: 'doughnut',
                labels: ['ì „í˜€ ëª¨ë¦„', 'ì¡´ì¬ë§Œ ì•', 'êµ¬ì²´ì ìœ¼ë¡œ ì•'],
                data: [66.1, 27.1, 6.8],
                label: 'ì¸ì§€ë„ (%)',
                color: ['#ff6b6b', '#fab005', '#20c997'],
                indexAxis: 'x',
                desc: "ğŸ’¡ ë¶„ì„ ì¸ì‚¬ì´íŠ¸:<br>ì•ˆíƒ€ê¹ê²Œë„ 66% ì´ìƒì´ ì‹ ê³  ì±„ë„ì„ ì „í˜€ ëª¨ë¥¸ë‹¤ê³  ë‹µí–ˆì–´ìš”. í”¼í•´ë¥¼ ì…ì–´ë„ ì–´ë””ì— ë„ì›€ì„ ì²­í•´ì•¼ í• ì§€ ë§‰ë§‰í•œ ìƒí™©ì…ë‹ˆë‹¤. F.A.K.E. íˆ´í‚·ì´ í•„ìš”í•œ ì´ìœ ì£ !"
            }
        };

        function updateChart() {
            const selected = document.getElementById('chartSelector').value;
            const data = chartData[selected];
            const ctx = document.getElementById('dynamicChart').getContext('2d');
            const desc = document.getElementById('chartDesc');

            if (dynamicChart) dynamicChart.destroy();

            let config = {
                type: data.type,
                data: {
                    labels: data.labels,
                    datasets: [{
                        label: data.label,
                        data: data.data,
                        backgroundColor: data.color,
                        borderRadius: 6,
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: data.indexAxis,
                    plugins: { 
                        legend: { position: 'bottom', display: data.type !== 'bar' || data.indexAxis === 'x' }, // Hide legend for horizontal bar sometimes
                        tooltip: { enabled: true }
                    }
                }
            };

            dynamicChart = new Chart(ctx, config);
            desc.innerHTML = data.desc;
        }

        document.getElementById('chartSelector').addEventListener('change', updateChart);


        // --- Test Logic ---
        let currentStep = 0;
        let totalScore = 0;
        const cards = document.querySelectorAll('.question-card');
        const progressBar = document.getElementById('testProgressFill');
        const totalSteps = cards.length;
        let recommendedToolkitId = '';

        function nextStep(score) {
            totalScore += score;
            setTimeout(() => {
                cards[currentStep].style.display = 'none';
                currentStep++;
                progressBar.style.width = ((currentStep) / 5) * 100 + '%';
                if (currentStep < 5) {
                    cards[currentStep].style.display = 'block';
                    cards[currentStep].classList.add('active');
                } else {
                    showResult();
                }
            }, 300);
        }

        function showResult() {
            document.getElementById('quizContainer').style.display = 'none';
            document.querySelector('.test-progress-bar').style.display = 'none';
            document.getElementById('resultView').style.display = 'block';
            
            const rIcon = document.getElementById('resIcon');
            const rTitle = document.getElementById('resTitle');
            const rDesc = document.getElementById('resDesc');
            const rToolkit = document.getElementById('resToolkit');

            document.querySelectorAll('.toolkit-card').forEach(c => c.classList.remove('highlight'));

            if (totalScore >= 80) {
                rIcon.innerHTML = "ğŸ‘‘"; rTitle.innerHTML = "ìº í¼ìŠ¤ ì•°ë²„ì„œë”"; rTitle.style.color = "#4c6ef5";
                rDesc.innerHTML = "ì™€ìš°! ë‹¹ì‹ ì€ ì´ë¯¸ ì¤€ë¹„ëœ ë¦¬ë”ì˜ˆìš”!<br>ì´ì œ ì¹œêµ¬ë“¤ì—ê²Œ ì˜¬ë°”ë¥¸ ê¸¸ì„ ì•ˆë‚´í•´ ì£¼ì„¸ìš”.";
                rToolkit.innerHTML = "Lv.4 ìº í¼ìŠ¤ ì•°ë²„ì„œë” íˆ´í‚·"; recommendedToolkitId = 'toolkit-4';
            } else if (totalScore >= 61) {
                rIcon.innerHTML = "ğŸ•µï¸â€â™€ï¸"; rTitle.innerHTML = "ìº í¼ìŠ¤ ë³´ì•ˆê´€"; rTitle.style.color = "#20c997";
                rDesc.innerHTML = "ëŠ¥ë™ì ìœ¼ë¡œ ì •ë³´ë¥¼ ê²€ì¦í•  ì¤„ ì•„ì‹œë„¤ìš”!<br>ì¡°ê¸ˆ ë” ì „ë¬¸ì ì¸ ë„êµ¬ë¥¼ ì¨ë³¼ê¹Œìš”?";
                rToolkit.innerHTML = "Lv.3 ë³´ì•ˆê´€ ì‹¬í™” íˆ´í‚·"; recommendedToolkitId = 'toolkit-3';
            } else if (totalScore >= 31) {
                rIcon.innerHTML = "ğŸ¤ "; rTitle.innerHTML = "ë³´ì•ˆê´€ ê¿ˆë‚˜ë¬´"; rTitle.style.color = "#fab005";
                rDesc.innerHTML = "ë§ˆìŒì€ ì¤€ë¹„ëëŠ”ë°, ì¥ë¹„ê°€ ë¶€ì¡±í•˜êµ°ìš”?<br>ë‚˜ì™€ ì§€ì¸ì„ ì§€í‚¤ëŠ” ë²•ë¶€í„° ë°°ì›Œìš”!";
                rToolkit.innerHTML = "Lv.2 ë³´ì•ˆê´€ ê¿ˆë‚˜ë¬´ íˆ´í‚·"; recommendedToolkitId = 'toolkit-2';
            } else {
                rIcon.innerHTML = "ğŸ˜±"; rTitle.innerHTML = "ë””ì§€í„¸ ë¯¸ì•„"; rTitle.style.color = "#ff6b6b";
                rDesc.innerHTML = "ìœ„í—˜í•œ ì •ê¸€ ì†ì— í˜¼ì ê³„ì‹œë‚˜ìš”?<br>ìƒì¡´ì„ ìœ„í•œ í•„ìˆ˜ ì§€ì‹ì´ ì‹œê¸‰í•´ìš”!";
                rToolkit.innerHTML = "Lv.1 ì„œë°”ì´ë²Œ íˆ´í‚·"; recommendedToolkitId = 'toolkit-1';
            }
        }

        function closeTestAndScroll() {
            closeModal(testModal);
            setTimeout(() => {
                const target = document.getElementById(recommendedToolkitId);
                if(target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    target.classList.add('highlight');
                    setTimeout(() => target.classList.remove('highlight'), 2500);
                }
            }, 300);
        }

        function resetTest() {
            currentStep = 0; totalScore = 0;
            document.getElementById('resultView').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.querySelector('.test-progress-bar').style.display = 'block';
            progressBar.style.width = '0%';
            cards.forEach(c => { c.style.display = 'none'; c.classList.remove('active'); });
            cards[0].style.display = 'block'; cards[0].classList.add('active');
            document.querySelectorAll('.q-option input').forEach(i => i.checked = false);
        }
    </script>
</body>
</html>
